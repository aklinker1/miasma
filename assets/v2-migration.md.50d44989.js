import{_ as s,o as a,c as e,S as n}from"./chunks/framework.f15d8f8c.js";const m=JSON.parse('{"title":"Migrate to V2","description":"","frontmatter":{},"headers":[],"relativePath":"v2-migration.md","filePath":"v2-migration.md"}'),o={name:"v2-migration.md"},t=n(`<h1 id="migrate-to-v2" tabindex="-1">Migrate to V2 <a class="header-anchor" href="#migrate-to-v2" aria-label="Permalink to &quot;Migrate to V2&quot;">​</a></h1><p>If you&#39;re coming from version 1, there&#39;s one major difference: no more CLI. Instead, everything is done through the UI directly.</p><h2 id="restart-docker-container" tabindex="-1">Restart Docker Container <a class="header-anchor" href="#restart-docker-container" aria-label="Permalink to &quot;Restart Docker Container&quot;">​</a></h2><p>Miasma is still just a docker container, but the data volume is no longer needed - Miasma stores everything it needs inside docker services directly. The rest stays the same</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight has-diff"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Get the ID of the currently running miasma instance and stop it</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stop</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">container-i</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Pull the latest image, and restart the container</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pull</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">aklinker1/miasma</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">--restart</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">unless-stopped</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3000</span><span style="color:#C3E88D;">:3000</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/run/docker.sock:/var/run/docker.sock</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line diff remove"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/.miasma:/data/miasma</span><span style="color:#A6ACCD;"> \\ </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">aklinker1/miasma</span></span></code></pre></div><h2 id="migrate-apps-sike" tabindex="-1">Migrate Apps... Sike! <a class="header-anchor" href="#migrate-apps-sike" aria-label="Permalink to &quot;Migrate Apps... Sike!&quot;">​</a></h2><p>You shouldn&#39;t have to do anything to migrate your v1 apps to v2. As long as you don&#39;t kill the swarm, they&#39;re just docker services that will keep running, and they will show up in v2 with no additional steps.</p><h2 id="missing-features" tabindex="-1">Missing Features <a class="header-anchor" href="#missing-features" aria-label="Permalink to &quot;Missing Features&quot;">​</a></h2><p>Some features are missing from V2:</p><ul><li>Traefik Plugin (ingress router + automatic HTTPS certs)</li></ul><p>I will be adding these with time. I&#39;ll probably forget to update this page, so check <a href="./introduction.html#future-work">Introduction</a> for a more up-to-date list of all features.</p>`,11),l=[t];function r(p,i,c,C,d,y){return a(),e("div",null,l)}const u=s(o,[["render",r]]);export{m as __pageData,u as default};
